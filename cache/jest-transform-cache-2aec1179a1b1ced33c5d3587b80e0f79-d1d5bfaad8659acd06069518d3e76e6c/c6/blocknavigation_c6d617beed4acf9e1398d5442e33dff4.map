{"version":3,"sources":["block-navigation.js"],"names":["jumpToCode","init","missingCoverageClasses","fileListingElements","notSelector","join","selector","missingCoverageElements","document","querySelectorAll","currentIndex","toggleClass","index","item","classList","remove","add","makeCurrent","scrollIntoView","behavior","block","inline","goToPrevious","nextIndex","length","goToNext","jump","event","getElementById","activeElement","which","window","addEventListener"],"mappings":"AACA,IAAIA,UAAU,GAAI,SAASC,IAAT,GAAgB;AAE9B,MAAIC,sBAAsB,GAAG,CAAC,aAAD,EAAgB,WAAhB,EAA6B,WAA7B,CAA7B;AAGA,MAAIC,mBAAmB,GAAG,CAAC,YAAD,CAA1B;AAGA,MAAIC,WAAW,GAAG,UAAUF,sBAAsB,CAACG,IAAvB,CAA4B,QAA5B,CAAV,GAAkD,MAApE;AAGA,MAAIC,QAAQ,GACRH,mBAAmB,CAACE,IAApB,CAAyB,IAAzB,IACA,IADA,GAEAD,WAFA,GAGAF,sBAAsB,CAACG,IAAvB,CAA4B,OAAOD,WAAnC,CAJJ;AAOA,MAAIG,uBAAuB,GAAGC,QAAQ,CAACC,gBAAT,CAA0BH,QAA1B,CAA9B;AAEA,MAAII,YAAJ;;AAEA,WAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxBL,IAAAA,uBAAuB,CAClBM,IADL,CACUH,YADV,EAEKI,SAFL,CAEeC,MAFf,CAEsB,aAFtB;AAGAR,IAAAA,uBAAuB,CAACM,IAAxB,CAA6BD,KAA7B,EAAoCE,SAApC,CAA8CE,GAA9C,CAAkD,aAAlD;AACH;;AAED,WAASC,WAAT,CAAqBL,KAArB,EAA4B;AACxBD,IAAAA,WAAW,CAACC,KAAD,CAAX;AACAF,IAAAA,YAAY,GAAGE,KAAf;AACAL,IAAAA,uBAAuB,CAACM,IAAxB,CAA6BD,KAA7B,EAAoCM,cAApC,CAAmD;AAC/CC,MAAAA,QAAQ,EAAE,QADqC;AAE/CC,MAAAA,KAAK,EAAE,QAFwC;AAG/CC,MAAAA,MAAM,EAAE;AAHuC,KAAnD;AAKH;;AAED,WAASC,YAAT,GAAwB;AACpB,QAAIC,SAAS,GAAG,CAAhB;;AACA,QAAI,OAAOb,YAAP,KAAwB,QAAxB,IAAoCA,YAAY,KAAK,CAAzD,EAA4D;AACxDa,MAAAA,SAAS,GAAGhB,uBAAuB,CAACiB,MAAxB,GAAiC,CAA7C;AACH,KAFD,MAEO,IAAIjB,uBAAuB,CAACiB,MAAxB,GAAiC,CAArC,EAAwC;AAC3CD,MAAAA,SAAS,GAAGb,YAAY,GAAG,CAA3B;AACH;;AAEDO,IAAAA,WAAW,CAACM,SAAD,CAAX;AACH;;AAED,WAASE,QAAT,GAAoB;AAChB,QAAIF,SAAS,GAAG,CAAhB;;AAEA,QACI,OAAOb,YAAP,KAAwB,QAAxB,IACAA,YAAY,GAAGH,uBAAuB,CAACiB,MAAxB,GAAiC,CAFpD,EAGE;AACED,MAAAA,SAAS,GAAGb,YAAY,GAAG,CAA3B;AACH;;AAEDO,IAAAA,WAAW,CAACM,SAAD,CAAX;AACH;;AAED,SAAO,SAASG,IAAT,CAAcC,KAAd,EAAqB;AACxB,QACInB,QAAQ,CAACoB,cAAT,CAAwB,YAAxB,MAA0CpB,QAAQ,CAACqB,aAAnD,IACArB,QAAQ,CAACqB,aAAT,IAA0B,IAF9B,EAGE;AAEE;AACH;;AAED,YAAQF,KAAK,CAACG,KAAd;AACI,WAAK,EAAL;AACA,WAAK,EAAL;AACIL,QAAAA,QAAQ;AACR;;AACJ,WAAK,EAAL;AACA,WAAK,EAAL;AACA,WAAK,EAAL;AACIH,QAAAA,YAAY;AACZ;AATR;AAWH,GApBD;AAqBH,CApFgB,EAAjB;;AAqFAS,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmChC,UAAnC","sourcesContent":["/* eslint-disable */\nvar jumpToCode = (function init() {\n    // Classes of code we would like to highlight in the file view\n    var missingCoverageClasses = ['.cbranch-no', '.cstat-no', '.fstat-no'];\n\n    // Elements to highlight in the file listing view\n    var fileListingElements = ['td.pct.low'];\n\n    // We don't want to select elements that are direct descendants of another match\n    var notSelector = ':not(' + missingCoverageClasses.join('):not(') + ') > '; // becomes `:not(a):not(b) > `\n\n    // Selecter that finds elements on the page to which we can jump\n    var selector =\n        fileListingElements.join(', ') +\n        ', ' +\n        notSelector +\n        missingCoverageClasses.join(', ' + notSelector); // becomes `:not(a):not(b) > a, :not(a):not(b) > b`\n\n    // The NodeList of matching elements\n    var missingCoverageElements = document.querySelectorAll(selector);\n\n    var currentIndex;\n\n    function toggleClass(index) {\n        missingCoverageElements\n            .item(currentIndex)\n            .classList.remove('highlighted');\n        missingCoverageElements.item(index).classList.add('highlighted');\n    }\n\n    function makeCurrent(index) {\n        toggleClass(index);\n        currentIndex = index;\n        missingCoverageElements.item(index).scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center'\n        });\n    }\n\n    function goToPrevious() {\n        var nextIndex = 0;\n        if (typeof currentIndex !== 'number' || currentIndex === 0) {\n            nextIndex = missingCoverageElements.length - 1;\n        } else if (missingCoverageElements.length > 1) {\n            nextIndex = currentIndex - 1;\n        }\n\n        makeCurrent(nextIndex);\n    }\n\n    function goToNext() {\n        var nextIndex = 0;\n\n        if (\n            typeof currentIndex === 'number' &&\n            currentIndex < missingCoverageElements.length - 1\n        ) {\n            nextIndex = currentIndex + 1;\n        }\n\n        makeCurrent(nextIndex);\n    }\n\n    return function jump(event) {\n        if (\n            document.getElementById('fileSearch') === document.activeElement &&\n            document.activeElement != null\n        ) {\n            // if we're currently focused on the search input, we don't want to navigate\n            return;\n        }\n\n        switch (event.which) {\n            case 78: // n\n            case 74: // j\n                goToNext();\n                break;\n            case 66: // b\n            case 75: // k\n            case 80: // p\n                goToPrevious();\n                break;\n        }\n    };\n})();\nwindow.addEventListener('keydown', jumpToCode);\n"]}